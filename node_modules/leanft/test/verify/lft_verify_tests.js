// (c) Copyright 2015 Hewlett Packard Enterprise Development LP
/**
 * Created on 03/05/2016.
 */

var assert = require("assert");
var lftVerify = require("../../verify/lft_verify.js");
require('expectations');
var Q = require("q");

describe("lftVerify unit tests", function() {
    var promiseMock1;
    var promiseMock2;

    beforeEach(function() {
        promiseMock2 = {
            then: function(cb) {
                return cb(expect(7));
            }
        };

        promiseMock1 = {
            then: function() {
                return promiseMock2;
            }
        }
    });

    describe("construction", function () {
        it("should chain a promise with the expect if value passed is a promise", function() {
            var verifyUnderTest = lftVerify(promiseMock1);
            assert.notEqual(verifyUnderTest._promise, null);
        });

        it("should create regular expect if value passed is not a promise", function() {
            var verifyUnderTest = lftVerify(8);
            assert.strictEqual(verifyUnderTest.constructor.name, "Object");
        });

        it("should have all keys of expect except 'toThrow'", function() {
            var verifyUnderTest = lftVerify(promiseMock1);
            var regularExpect = expect("");

            for(var expectKey in regularExpect) {
                if(expectKey !== "toThrow") {
                    assert(expectKey in verifyUnderTest, "key: " + expectKey + " is not in verifyUnderTest");
                }
            }
        });

        it("should not have the 'toThrow' key", function() {
            var verifyUnderTest = lftVerify(promiseMock1);
            assert(!("toThrow" in verifyUnderTest));
        });
    });

    describe("functions", function() {
        var deferred;
        var verifyUnderTest;

        beforeEach(function() {
            deferred = Q.defer();
            verifyUnderTest = lftVerify(deferred.promise);
        });

        describe("fail", function() {
            it("should throw exception with correct message", function(done) {
                deferred.resolve(null);
                var errMsg = "failing the test";
                verifyUnderTest.fail(errMsg).then(
                    function(result) {
                        assert.strictEqual(result, false);
                        done();
                    },
                    function(err){done(err);}
                );
            });
        });

        describe("toBe", function () {
            it("should succeed for correct value", function () {
                deferred.resolve(7);
                return verifyUnderTest.toBe(7);
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve(7);

                verifyUnderTest.toBe(8).then(
                    function(result){
                        assert.strictEqual(result, false);
                        done();
                    },
                    function(){ done("exception was thrown");});
            });
        });

        describe("toBeCloseTo", function () {
            it("should succeed for correct value", function () {
                deferred.resolve(7.32);
                return verifyUnderTest.toBeCloseTo(7.3,1);
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve(7.32);

                verifyUnderTest.toBeCloseTo(7.3,2).then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });

        describe("toBeDefined", function () {
            it("should succeed for correct value", function () {
                deferred.resolve(7);
                return verifyUnderTest.toBeDefined();
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve(undefined);

                verifyUnderTest.toBeDefined().then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });

        describe("toBeFalsey", function () {
            it("should succeed for correct value", function () {
                deferred.resolve(null);
                return verifyUnderTest.toBeFalsey();
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve(true);

                verifyUnderTest.toBeFalsey().then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });

        describe("toBeFalsy", function () {
            it("should succeed for correct value", function () {
                deferred.resolve(null);
                return verifyUnderTest.toBeFalsey();
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve(true);

                verifyUnderTest.toBeFalsey().then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });

        describe("toBeGreaterThan", function () {
            it("should succeed for correct value", function () {
                deferred.resolve(7);
                return verifyUnderTest.toBeGreaterThan(6);
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve(7);

                verifyUnderTest.toBeGreaterThan(8).then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });

        describe("toBeLessThan", function () {
            it("should succeed for correct value", function () {
                deferred.resolve(7);
                return verifyUnderTest.toBeLessThan(8);
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve(7);

                verifyUnderTest.toBeLessThan(6).then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });

        describe("toBeNull", function () {
            it("should succeed for correct value", function () {
                deferred.resolve(null);
                return verifyUnderTest.toBeNull();
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve(7);

                verifyUnderTest.toBeNull().then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });

        describe("toBeTruthy", function () {
            it("should succeed for correct value", function () {
                deferred.resolve(true);
                return verifyUnderTest.toBeTruthy();
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve(null);

                verifyUnderTest.toBeTruthy().then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });

        describe("toBeUndefined", function () {
            it("should succeed for correct value", function () {
                deferred.resolve(undefined);
                return verifyUnderTest.toBeUndefined();
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve(null);

                verifyUnderTest.toBeUndefined().then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });

        describe("toContain", function () {
            it("should succeed for correct value", function () {
                deferred.resolve([2,3]);
                return verifyUnderTest.toContain(2);
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve([2,3]);

                verifyUnderTest.toContain(4).then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });

        describe("toEqual", function () {
            it("should succeed for correct value", function () {
                deferred.resolve({a: 1, b: 2});
                return verifyUnderTest.toEqual({a: 1, b: 2});
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve({a: 1, b: 2});

                verifyUnderTest.toEqual({}).then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });

        describe("toMatch", function () {
            it("should succeed for correct value", function () {
                deferred.resolve("how are you?");
                return verifyUnderTest.toMatch(/you?/);
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve("how are you?");

                verifyUnderTest.toMatch(/aaa/).then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });

        describe("toNotEqual", function () {
            it("should succeed for correct value", function () {
                deferred.resolve({a: 1, b: 2});
                return verifyUnderTest.toNotEqual({});
            });

            it("should fail for in correct value", function (done) {
                deferred.resolve({a: 1, b: 2});

                verifyUnderTest.toNotEqual({a: 1, b: 2}).then(
                    function(result){assert.strictEqual(result, false); done();},
                    function(){done("exception was thrown");});
            });
        });
    });

    describe("report", function () {
        var deferred;
        var expectUnderTest;
        var reportMock = {};

        before(function() {
            // clean the cached lft_expect module
            global.__LFT_REPORTER__ = reportMock;
            var module = require.resolve("../../verify/lft_verify.js");
            var cachedModule = require.cache[module];
            delete require.cache[cachedModule.id];
            lftExpect = require("../../verify/lft_verify.js");
        });

        it("should report successful except event if value is promise", function(done) {
            reportMock._reportExpectEvent = function(funcName, hasNot, argumentsForReport, shouldThrow){
                assert.strictEqual(funcName, "toBe");
                assert.strictEqual(hasNot, null);
                assert.deepEqual(argumentsForReport, [7,7]);
                assert.strictEqual(shouldThrow, true);
            }

            deferred = Q.defer();
            expectUnderTest = lftExpect(deferred.promise);
            deferred.resolve(7);
            expectUnderTest.toBe(7).then(
                function(){done();},
                function(){done("exception was not thrown");});
        });

        it("should report successful not expect event if value is promise", function(done) {
            reportMock._reportExpectEvent = function(funcName, hasNot, argumentsForReport, shouldThrow){
                assert.strictEqual(funcName, "toBe");
                assert.strictEqual(hasNot, true);
                assert.deepEqual(argumentsForReport, [7,8]);
                assert.strictEqual(shouldThrow, true);
            }

            deferred = Q.defer();
            expectUnderTest = lftExpect(deferred.promise);
            deferred.resolve(7);
            expectUnderTest.not.toBe(8).then(
                function(){done();},
                function(){done("exception was thrown");});
        });

        it("should report failed expect event if value is promise", function(done) {
            reportMock._reportExpectEvent = function(funcName, hasNot, argumentsForReport, shouldThrow, e){
                assert.strictEqual(funcName, "toBe");
                assert.strictEqual(hasNot, null);
                assert.deepEqual(argumentsForReport, [8,7]);
                assert.strictEqual(shouldThrow, false);
                assert.notEqual(e, null);
            }

            deferred = Q.defer();
            expectUnderTest = lftExpect(deferred.promise);
            deferred.resolve(8);
            expectUnderTest.toBe(7).then(
                function(){done();},
                function(){done("exception was thrown");});
        });

        it("should report successful expect event if value is not a promise", function() {
            reportMock._reportExpectEvent = function(funcName, hasNot, argumentsForReport, shouldThrow){
                assert.strictEqual(funcName, "toBe");
                assert.strictEqual(hasNot, null);
                assert.deepEqual(argumentsForReport, [7,7]);
                assert.strictEqual(shouldThrow, false);
            }

            expectUnderTest = lftExpect(7);
            expectUnderTest.toBe(7);
        });

        it("should report successful not expect event if value is not a promise", function() {
            reportMock._reportExpectEvent = function(funcName, hasNot, argumentsForReport, shouldThrow){
                assert.strictEqual(funcName, "toBe");
                assert.strictEqual(hasNot, true);
                assert.deepEqual(argumentsForReport, [7,8]);
                assert.strictEqual(shouldThrow, false);
            }

            expectUnderTest = lftExpect(7);
            expectUnderTest.not.toBe(8);
        });

        it("should report failed expect event if value is not a promise", function(done) {
            reportMock._reportExpectEvent = function(funcName, hasNot, argumentsForReport, shouldThrow, e){
                assert.strictEqual(funcName, "toBe");
                assert.strictEqual(hasNot, null);
                assert.deepEqual(argumentsForReport, [7,8]);
                assert.strictEqual(shouldThrow, false);
                assert.notEqual(e, null);
            }

            expectUnderTest = lftExpect(7);
            try {
                expectUnderTest.toBe(8);
            }catch(error){
                done("exception wasn't thrown");
                return;
            }
            done();
        });
    });
});
// SIG // Begin signature block
// SIG // MIIdhgYJKoZIhvcNAQcCoIIddzCCHXMCAQExCzAJBgUr
// SIG // DgMCGgUAMGcGCisGAQQBgjcCAQSgWTBXMDIGCisGAQQB
// SIG // gjcCAR4wJAIBAQQQEODJBs441BGiowAQS9NQkAIBAAIB
// SIG // AAIBAAIBAAIBADAhMAkGBSsOAwIaBQAEFA0ZivIsT0Qe
// SIG // z9Aiikk3boxdKsv1oIIYtjCCA+4wggNXoAMCAQICEH6T
// SIG // 6/t8xk5Z6kuad9QG/DswDQYJKoZIhvcNAQEFBQAwgYsx
// SIG // CzAJBgNVBAYTAlpBMRUwEwYDVQQIEwxXZXN0ZXJuIENh
// SIG // cGUxFDASBgNVBAcTC0R1cmJhbnZpbGxlMQ8wDQYDVQQK
// SIG // EwZUaGF3dGUxHTAbBgNVBAsTFFRoYXd0ZSBDZXJ0aWZp
// SIG // Y2F0aW9uMR8wHQYDVQQDExZUaGF3dGUgVGltZXN0YW1w
// SIG // aW5nIENBMB4XDTEyMTIyMTAwMDAwMFoXDTIwMTIzMDIz
// SIG // NTk1OVowXjELMAkGA1UEBhMCVVMxHTAbBgNVBAoTFFN5
// SIG // bWFudGVjIENvcnBvcmF0aW9uMTAwLgYDVQQDEydTeW1h
// SIG // bnRlYyBUaW1lIFN0YW1waW5nIFNlcnZpY2VzIENBIC0g
// SIG // RzIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIB
// SIG // AQCxrLNJVEuXHBIK2CV5kSJXKm/cuCbEQ3Nrwr8uUFr7
// SIG // FMJ2jkMBJUO0oeJF9Oi3e8N0zCLXtJQAAvdN7b+0t0Qk
// SIG // a81fRTvRRM5DEnMXgotptCvLmR6schsmTXEfsTHd+1Fh
// SIG // AlOmqvVJLAV4RaUvic7nmef+jOJXPz3GktxK+Hsz5HkK
// SIG // +/B1iEGc/8UDUZmq12yfk2mHZSmDhcJgFMTIyTsU2sCB
// SIG // 8B8NdN6SIqvK9/t0fCfm90obf6fDni2uiuqm5qonFn1h
// SIG // 95hxEbziUKFL5V365Q6nLJ+qZSDT2JboyHylTkhE/xni
// SIG // RAeSC9dohIBdanhkRc1gRn5UwRN8xXnxycFxAgMBAAGj
// SIG // gfowgfcwHQYDVR0OBBYEFF+a9W5czMx0mtTdfe8/2+xM
// SIG // gC7dMDIGCCsGAQUFBwEBBCYwJDAiBggrBgEFBQcwAYYW
// SIG // aHR0cDovL29jc3AudGhhd3RlLmNvbTASBgNVHRMBAf8E
// SIG // CDAGAQH/AgEAMD8GA1UdHwQ4MDYwNKAyoDCGLmh0dHA6
// SIG // Ly9jcmwudGhhd3RlLmNvbS9UaGF3dGVUaW1lc3RhbXBp
// SIG // bmdDQS5jcmwwEwYDVR0lBAwwCgYIKwYBBQUHAwgwDgYD
// SIG // VR0PAQH/BAQDAgEGMCgGA1UdEQQhMB+kHTAbMRkwFwYD
// SIG // VQQDExBUaW1lU3RhbXAtMjA0OC0xMA0GCSqGSIb3DQEB
// SIG // BQUAA4GBAAMJm495739ZMKrvaLX64wkdu0+CBl03X6ZS
// SIG // nxaN6hySCURu9W3rWHww6PlpjSNzCxJvR6muORH4KrGb
// SIG // sBrDjutZlgCtzgxNstAxpghcKnr84nodV0yoZRjpeUBi
// SIG // JZZux8c3aoMhCI5B6t3ZVz8dd0mHKhYGXqY4aiISo1EZ
// SIG // g362MIIEozCCA4ugAwIBAgIQDs/0OMj+vzVuBNhqmBsa
// SIG // UDANBgkqhkiG9w0BAQUFADBeMQswCQYDVQQGEwJVUzEd
// SIG // MBsGA1UEChMUU3ltYW50ZWMgQ29ycG9yYXRpb24xMDAu
// SIG // BgNVBAMTJ1N5bWFudGVjIFRpbWUgU3RhbXBpbmcgU2Vy
// SIG // dmljZXMgQ0EgLSBHMjAeFw0xMjEwMTgwMDAwMDBaFw0y
// SIG // MDEyMjkyMzU5NTlaMGIxCzAJBgNVBAYTAlVTMR0wGwYD
// SIG // VQQKExRTeW1hbnRlYyBDb3Jwb3JhdGlvbjE0MDIGA1UE
// SIG // AxMrU3ltYW50ZWMgVGltZSBTdGFtcGluZyBTZXJ2aWNl
// SIG // cyBTaWduZXIgLSBHNDCCASIwDQYJKoZIhvcNAQEBBQAD
// SIG // ggEPADCCAQoCggEBAKJjCzlEuLsjp0RJuw7/ofBhClOT
// SIG // sJjbrSwPSsVu/4Y8U1UPFc4EPyv9qZaW2b5heQtbyUyG
// SIG // duXgQ0sile7CK0PBn9hotI5AT+6FOLkRxSPyZFjwFTJv
// SIG // TlehroikAtcqHs1L4d1j1ReJMluwXplaqJ0oUA4X7pbb
// SIG // YTtFUR3PElYLkkf8q672Zj1HrHBy55LnX80QucSDZJQZ
// SIG // vSWA4ejSIqXQugJ6oXeTW2XD7hd0vEGGKtwITIySjJEt
// SIG // nndEH2jWqHR32w5bMotWizO92WPISZ06xcXqMwvS8aMb
// SIG // 9Iu+2bNXizveBKd6IrIkri7HcMW+ToMmCPsLvalPmQjh
// SIG // EChyqs0CAwEAAaOCAVcwggFTMAwGA1UdEwEB/wQCMAAw
// SIG // FgYDVR0lAQH/BAwwCgYIKwYBBQUHAwgwDgYDVR0PAQH/
// SIG // BAQDAgeAMHMGCCsGAQUFBwEBBGcwZTAqBggrBgEFBQcw
// SIG // AYYeaHR0cDovL3RzLW9jc3Aud3Muc3ltYW50ZWMuY29t
// SIG // MDcGCCsGAQUFBzAChitodHRwOi8vdHMtYWlhLndzLnN5
// SIG // bWFudGVjLmNvbS90c3MtY2EtZzIuY2VyMDwGA1UdHwQ1
// SIG // MDMwMaAvoC2GK2h0dHA6Ly90cy1jcmwud3Muc3ltYW50
// SIG // ZWMuY29tL3Rzcy1jYS1nMi5jcmwwKAYDVR0RBCEwH6Qd
// SIG // MBsxGTAXBgNVBAMTEFRpbWVTdGFtcC0yMDQ4LTIwHQYD
// SIG // VR0OBBYEFEbGaaMOShQe1UzaUmMXP142vA3mMB8GA1Ud
// SIG // IwQYMBaAFF+a9W5czMx0mtTdfe8/2+xMgC7dMA0GCSqG
// SIG // SIb3DQEBBQUAA4IBAQB4O7SRKgBM8I9iMDd4o4QnB28Y
// SIG // st4l3KDUlAOqhk4ln5pAAxzdzuN5yyFoBtq2MrRtv/Qs
// SIG // JmMz5ElkbQ3mw2cO9wWkNWx8iRbG6bLfsundIMZxD82V
// SIG // dNy2XN69Nx9DeOZ4tc0oBCCjqvFLxIgpkQ6A0RH83Vx2
// SIG // bk9eDkVGQW4NsOo4mrE62glxEPwcebSAe6xp9P2ctgwW
// SIG // K/F/Wwk9m1viFsoTgW0ALjgNqCmPLOGy9FqpAa8VnCwv
// SIG // SRvbIrvD/niUUcOGsYKIXfA9tFGheTMrLnu53CAJE3Hr
// SIG // ahlbz+ilMFcsiUk/uc9/yb8+ImhjU5q9aXSsxR08f5Lg
// SIG // w7wc2AR1MIIFHjCCBAagAwIBAgIQQTnRy3KPFNE9KaYy
// SIG // mhrpPDANBgkqhkiG9w0BAQsFADB/MQswCQYDVQQGEwJV
// SIG // UzEdMBsGA1UEChMUU3ltYW50ZWMgQ29ycG9yYXRpb24x
// SIG // HzAdBgNVBAsTFlN5bWFudGVjIFRydXN0IE5ldHdvcmsx
// SIG // MDAuBgNVBAMTJ1N5bWFudGVjIENsYXNzIDMgU0hBMjU2
// SIG // IENvZGUgU2lnbmluZyBDQTAeFw0xNjAzMjIwMDAwMDBa
// SIG // Fw0xNzAzMjMyMzU5NTlaMIGkMQswCQYDVQQGEwJVUzET
// SIG // MBEGA1UECAwKQ2FsaWZvcm5pYTESMBAGA1UEBwwJUGFs
// SIG // byBBbHRvMSswKQYDVQQKDCJIZXdsZXR0IFBhY2thcmQg
// SIG // RW50ZXJwcmlzZSBDb21wYW55MRIwEAYDVQQLDAlDb2Rl
// SIG // IFNpZ24xKzApBgNVBAMMIkhld2xldHQgUGFja2FyZCBF
// SIG // bnRlcnByaXNlIENvbXBhbnkwggEiMA0GCSqGSIb3DQEB
// SIG // AQUAA4IBDwAwggEKAoIBAQDBoAF2XDbrxfDMxAUPXWgP
// SIG // utBvu+uuziBtvo2EDzYwq3H5o/tf7TQfzUTwVALiE0Ap
// SIG // hDWpuCO4ph0B+y4NjopTQA5ZHU4NrEMr2If7yCoi3iit
// SIG // b4BTsF7qnBuy7OsbC3SRYbDLKv+3ElyXVjTefMIo+uQN
// SIG // KlzN/7sHBFbmsidFxyrDiaBVUA9VTQUtmOuG3AFVF74F
// SIG // p5lWx/5j+t7O6XYyqDXlTpycvGsVQcg0Zu+TPN7jkKoS
// SIG // 4RoQcZiZ1nU5tbJeyw63N4GavHT0wA0lMBrZF2Ou74GT
// SIG // uAZC8R83pWLtjjFKEPCZRQ3dLrMcCrHsoNGVooRVLpgt
// SIG // JAs7r9H6taoVAgMBAAGjggFuMIIBajAJBgNVHRMEAjAA
// SIG // MA4GA1UdDwEB/wQEAwIHgDATBgNVHSUEDDAKBggrBgEF
// SIG // BQcDAzBmBgNVHSAEXzBdMFsGC2CGSAGG+EUBBxcDMEww
// SIG // IwYIKwYBBQUHAgEWF2h0dHBzOi8vZC5zeW1jYi5jb20v
// SIG // Y3BzMCUGCCsGAQUFBwICMBkaF2h0dHBzOi8vZC5zeW1j
// SIG // Yi5jb20vcnBhMB8GA1UdIwQYMBaAFJY7U/B5M5evfYPv
// SIG // LivMyreGHnJmMCsGA1UdHwQkMCIwIKAeoByGGmh0dHA6
// SIG // Ly9zdi5zeW1jYi5jb20vc3YuY3JsMFcGCCsGAQUFBwEB
// SIG // BEswSTAfBggrBgEFBQcwAYYTaHR0cDovL3N2LnN5bWNk
// SIG // LmNvbTAmBggrBgEFBQcwAoYaaHR0cDovL3N2LnN5bWNi
// SIG // LmNvbS9zdi5jcnQwEQYJYIZIAYb4QgEBBAQDAgQQMBYG
// SIG // CisGAQQBgjcCARsECDAGAQEAAQH/MA0GCSqGSIb3DQEB
// SIG // CwUAA4IBAQCFW7G9ZUH30GeEcuiJFzSNf5kiLHDOVOL6
// SIG // LK0sDqLt58qaNkB6ZQtAaFHEpWr4QEPHAOZMJcTeB/s2
// SIG // +25wdpa78QiIw09v/rsFgy29WdxgVfw53sq+rkihPWlI
// SIG // yhO0ub+1mmy3Aj49b9f6esDZD0ft3M7vN/ZiW7lTkfKJ
// SIG // E1sI2Y2YLPaJphPud3xNXMXas8/oQ/g7pG6LN/j3WGml
// SIG // QNv5R6BVlZY9QfaIoAbL9WW2oAbhFbRdX2/LmPLQ1p3e
// SIG // EAyhO73KudrZvS+18wd0iMnPlE1IuQRAl6al7AB4UPUq
// SIG // OX6yr1rBC2zrLf5Tg88zExpTpclukd5nPcyC7dpuVXYO
// SIG // MIIFWTCCBEGgAwIBAgIQPXjX+XZJYLJhffTwHsqGKjAN
// SIG // BgkqhkiG9w0BAQsFADCByjELMAkGA1UEBhMCVVMxFzAV
// SIG // BgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZW
// SIG // ZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTowOAYDVQQLEzEo
// SIG // YykgMjAwNiBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRo
// SIG // b3JpemVkIHVzZSBvbmx5MUUwQwYDVQQDEzxWZXJpU2ln
// SIG // biBDbGFzcyAzIFB1YmxpYyBQcmltYXJ5IENlcnRpZmlj
// SIG // YXRpb24gQXV0aG9yaXR5IC0gRzUwHhcNMTMxMjEwMDAw
// SIG // MDAwWhcNMjMxMjA5MjM1OTU5WjB/MQswCQYDVQQGEwJV
// SIG // UzEdMBsGA1UEChMUU3ltYW50ZWMgQ29ycG9yYXRpb24x
// SIG // HzAdBgNVBAsTFlN5bWFudGVjIFRydXN0IE5ldHdvcmsx
// SIG // MDAuBgNVBAMTJ1N5bWFudGVjIENsYXNzIDMgU0hBMjU2
// SIG // IENvZGUgU2lnbmluZyBDQTCCASIwDQYJKoZIhvcNAQEB
// SIG // BQADggEPADCCAQoCggEBAJeDHgAWryyx0gjE12iTUWAe
// SIG // cfbiR7TbWE0jYmq0v1obUfejDRh3aLvYNqsvIVDanvPn
// SIG // XydOC8KXyAlwk6naXA1OpA2RoLTsFM6RclQuzqPbROlS
// SIG // Gz9BPMpK5KrA6DmrU8wh0MzPf5vmwsxYaoIV7j02zxzF
// SIG // lwckjvF7vjEtPW7ctZlCn0thlV8ccO4XfduL5WGJeMdo
// SIG // G68ReBqYrsRVR1PZszLWoQ5GQMWXkorRU6eZW4U1V9Pq
// SIG // k2JhIArHMHckEU1ig7a6e2iCMe5lyt/51Y2yNdyMK29q
// SIG // clxghJzyDJRewFZSAEjM0/ilfd4v1xPkOKiE1Ua4E4bC
// SIG // G53qWjjdm9sCAwEAAaOCAYMwggF/MC8GCCsGAQUFBwEB
// SIG // BCMwITAfBggrBgEFBQcwAYYTaHR0cDovL3MyLnN5bWNi
// SIG // LmNvbTASBgNVHRMBAf8ECDAGAQH/AgEAMGwGA1UdIARl
// SIG // MGMwYQYLYIZIAYb4RQEHFwMwUjAmBggrBgEFBQcCARYa
// SIG // aHR0cDovL3d3dy5zeW1hdXRoLmNvbS9jcHMwKAYIKwYB
// SIG // BQUHAgIwHBoaaHR0cDovL3d3dy5zeW1hdXRoLmNvbS9y
// SIG // cGEwMAYDVR0fBCkwJzAloCOgIYYfaHR0cDovL3MxLnN5
// SIG // bWNiLmNvbS9wY2EzLWc1LmNybDAdBgNVHSUEFjAUBggr
// SIG // BgEFBQcDAgYIKwYBBQUHAwMwDgYDVR0PAQH/BAQDAgEG
// SIG // MCkGA1UdEQQiMCCkHjAcMRowGAYDVQQDExFTeW1hbnRl
// SIG // Y1BLSS0xLTU2NzAdBgNVHQ4EFgQUljtT8Hkzl699g+8u
// SIG // K8zKt4YecmYwHwYDVR0jBBgwFoAUf9Nlp8Ld7LvwMAnz
// SIG // Qzn6Aq8zMTMwDQYJKoZIhvcNAQELBQADggEBABOFGh5p
// SIG // qTf3oL2kr34dYVP+nYxeDKZ1HngXI9397BoDVTn7cZXH
// SIG // ZVqnjjDSRFph23Bv2iEFwi5zuknx0ZP+XcnNXgPgiZ4/
// SIG // dB7X9ziLqdbPuzUvM1ioklbRyE07guZ5hBb8KLCxR/Md
// SIG // oj7uh9mmf6RWpT+thC4p3ny8qKqjPQQB6rqTog5QIikX
// SIG // TIfkOhFf1qQliZsFay+0yQFMJ3sLrBkFIqBgFT/ayftN
// SIG // TI/7cmd3/SeUx7o1DohJ/o39KK9KEr0Ns5cF3kQMFfo2
// SIG // KwPcwVAB8aERXRTl4r0nS1S+K4ReD6bDdAUK75fDiSKx
// SIG // H3fzvc1D1PFMqT+1i4SvZPLQFCEwggWaMIIDgqADAgEC
// SIG // AgphGZPkAAAAAAAcMA0GCSqGSIb3DQEBBQUAMH8xCzAJ
// SIG // BgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAw
// SIG // DgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3Nv
// SIG // ZnQgQ29ycG9yYXRpb24xKTAnBgNVBAMTIE1pY3Jvc29m
// SIG // dCBDb2RlIFZlcmlmaWNhdGlvbiBSb290MB4XDTExMDIy
// SIG // MjE5MjUxN1oXDTIxMDIyMjE5MzUxN1owgcoxCzAJBgNV
// SIG // BAYTAlVTMRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEf
// SIG // MB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29yazE6
// SIG // MDgGA1UECxMxKGMpIDIwMDYgVmVyaVNpZ24sIEluYy4g
// SIG // LSBGb3IgYXV0aG9yaXplZCB1c2Ugb25seTFFMEMGA1UE
// SIG // AxM8VmVyaVNpZ24gQ2xhc3MgMyBQdWJsaWMgUHJpbWFy
// SIG // eSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEc1MIIB
// SIG // IjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAryQI
// SIG // CCl6NZ5gDKrnSztO3Hy8PEUcuyvg/ikC+VcIo2SFFSf1
// SIG // 8a3IMYldIugqqqZCs4/4uVW3sbdLs/6PfgdX7O9D22Zi
// SIG // FWHPYA2k2N744MNiCD1UE+tJyllUhSblK48bn+v1oZHC
// SIG // M0nYQ2NqUkvSj+hwUU3RiWl7x3D2s9wSdNt7XUtW05a/
// SIG // FXehsPSiJfKvHJJnGOX0BgTvkLnkAOTdOrUZ/wK69Dzu
// SIG // 4IvrN4vs9Nes8vbwPa/ddZEzGR0cQMt0JBkhk9kU/qwq
// SIG // UseP1QRJ5I1jR4g8aYPL/ke9K35PxZWuDp3U0UPAZ3Pj
// SIG // FAh+5T+fc7gzCs9dPzSHloruU+glFQIDAQABo4HLMIHI
// SIG // MBEGA1UdIAQKMAgwBgYEVR0gADAPBgNVHRMBAf8EBTAD
// SIG // AQH/MAsGA1UdDwQEAwIBhjAdBgNVHQ4EFgQUf9Nlp8Ld
// SIG // 7LvwMAnzQzn6Aq8zMTMwHwYDVR0jBBgwFoAUYvsKIVt/
// SIG // Q24R2glUUGv10pZx8Z4wVQYDVR0fBE4wTDBKoEigRoZE
// SIG // aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwv
// SIG // cHJvZHVjdHMvTWljcm9zb2Z0Q29kZVZlcmlmUm9vdC5j
// SIG // cmwwDQYJKoZIhvcNAQEFBQADggIBAIEqghaMNGcr5QPr
// SIG // NHuMoqNQivRVhvEejI6ufe4DGc5ylRhIrWIR/SD9P0cG
// SIG // AVri4G+MFSxOPGpQbAs2o896DZxCvFz4GdVg42nm4iNB
// SIG // Z4xog3Yrj5OjKrV/vln7qcmyJo/KovOCG5g+kZUnl4Zh
// SIG // 7ltdB2vNhqjiZYCo4hXisr4jBWq6DPNHk02spIwHeTnA
// SIG // YRI6BQ2Jo+yfV4mE++zKfEdmFJHYtg8ZXea4Sqy8R8hx
// SIG // Q5bmMiCl3HeG/Tzji3Hbe5sD/LcdMmTrFlKgQ6P6Lq1Z
// SIG // kk58x/IzQkg4UTp8OMcbJCIoQB4aRh8X2xj38Cc1bLhj
// SIG // 2c25ZF0rpV7vxim08sf4IcwEulf9Abarxmf559OZf/T1
// SIG // Ivpy9f3/OhxCOqH5gBil7o0c1GaeRQH+qu7/+xePMPfx
// SIG // zSnFney11UkAPYW4y7uTOidqScAwrmbJ9yMoMnb5pINW
// SIG // yEjOWpaqoMwMxH+0jpevbeNUJ8OfhsDW5HMIlwXb0FRi
// SIG // XgNIwtWff6dmjNCdsE/U05hfS3rJf7IpUtASgMcPVLYe
// SIG // Z83GoGwRA4TTSHXnKv6wO24KOqZrdpkFo/F3aGEzFEcG
// SIG // /FN/Ur2SFFxKJGpnjK+NkKrQ9nkhG5MmfMPOHr2IOJKu
// SIG // RcYZaklQswX4rlk3imolA5SxWYFQ6LqDgLcjNfR2uWcd
// SIG // WRitII2UMYIEPDCCBDgCAQEwgZMwfzELMAkGA1UEBhMC
// SIG // VVMxHTAbBgNVBAoTFFN5bWFudGVjIENvcnBvcmF0aW9u
// SIG // MR8wHQYDVQQLExZTeW1hbnRlYyBUcnVzdCBOZXR3b3Jr
// SIG // MTAwLgYDVQQDEydTeW1hbnRlYyBDbGFzcyAzIFNIQTI1
// SIG // NiBDb2RlIFNpZ25pbmcgQ0ECEEE50ctyjxTRPSmmMpoa
// SIG // 6TwwCQYFKw4DAhoFAKBwMBAGCisGAQQBgjcCAQwxAjAA
// SIG // MBkGCSqGSIb3DQEJAzEMBgorBgEEAYI3AgEEMBwGCisG
// SIG // AQQBgjcCAQsxDjAMBgorBgEEAYI3AgEVMCMGCSqGSIb3
// SIG // DQEJBDEWBBTpN6vk1BUifUcnAxBMTVTIg379UTANBgkq
// SIG // hkiG9w0BAQEFAASCAQAO2KDjUCnqAk9CZFdZFkRXfKxG
// SIG // cdafRPHCUkY24D4DBsvNpxZJHWDZd8DQH+t37YCvJDCD
// SIG // IKaMm6qMWstHjn8FBdui8Xum/e1B+nAu9ZRROfEJ2ivr
// SIG // ykpPJ5MagUGmlDezS6BxKnnOvjP+YZqZgaRM7SnwNzKw
// SIG // riqtNAN9iSTs0KeIh1W7/JqP2Z5bLYFrnOdi1QUX4g/b
// SIG // xMU/PCtsNRm+k7yc2w4ese+MgV1xAp1dgTCk45uHQnMq
// SIG // fOsxfnhLtev0UwJBGzf/DyhgznnvBwwUlRVQmsO/Hk/h
// SIG // jRDoUg0tai31uQbsauxagimlNEDrXboo7+2ynTH2d8qk
// SIG // 9BBQaOWIoYICCzCCAgcGCSqGSIb3DQEJBjGCAfgwggH0
// SIG // AgEBMHIwXjELMAkGA1UEBhMCVVMxHTAbBgNVBAoTFFN5
// SIG // bWFudGVjIENvcnBvcmF0aW9uMTAwLgYDVQQDEydTeW1h
// SIG // bnRlYyBUaW1lIFN0YW1waW5nIFNlcnZpY2VzIENBIC0g
// SIG // RzICEA7P9DjI/r81bgTYapgbGlAwCQYFKw4DAhoFAKBd
// SIG // MBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZI
// SIG // hvcNAQkFMQ8XDTE2MDUyMDIyMjkyOVowIwYJKoZIhvcN
// SIG // AQkEMRYEFNFTI6DSYWLrcxRS8sww9OAR+eXeMA0GCSqG
// SIG // SIb3DQEBAQUABIIBADpq/jfo00I/sfgchW+uerq3xYXL
// SIG // 3lTvrpW04GA5D0rYinUQ4ktEKf0Ahfj7ajKLNtoMwZAm
// SIG // nzRF7Yuxc9oO+b2QmocIIH9UGlmsO/NkeXsOg00Laxqk
// SIG // dzo8PP3TFOCJ5XRLS32LbGvtrcrwQZYOwfPu49UtUTvD
// SIG // wF4q8YSMkjqWm/URM4MspeCpYDHyb/ZZ42/FzTo20GCL
// SIG // r71dTcUaUze3tA5OxhR0i48eWHVVb2S5WnCMwA7c97vf
// SIG // E93lYttB7and6l4Q2q3XTG75w2pLu1ArScd3qeUjaZeW
// SIG // riVON+q+qFXOxvzxkinRXcKkl/WCgiOuM7Ei9kMHG+r5
// SIG // OQv8WDs=
// SIG // End signature block
